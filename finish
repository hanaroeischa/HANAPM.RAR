import 'package:flutter/material.dart';
import 'chat_item.dart';
import 'detail_page.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    // 10 Daftar Nama, Pesan, dan link Icon/Avatar
    final List<Map<String, String>> chats = [
      {
        'nama': 'Hana Roeischa',
        'pesan': 'halo?',
        'bulan': 'Januari',
        'avatar': 'images/tasya.jpg',
      },
      {
        'nama': 'Rio Crsita',
        'pesan': 'Jangan lupa kita ada kelas jam 10 pagi ini ya.',
        'bulan': 'Februari',
        'avatar': 'images/heri.jpg',
      },
      {
        'nama': 'Jira Kabrina',
        'pesan': 'Apa cerita cintaa.',
        'bulan': 'Maret',
        'avatar': 'images/nias.jpg',
      },
      {
        'nama': 'ARIF LUAHA',
        'pesan': 'Kek mana skripsi kita',
        'bulan': 'April',
        'avatar': 'images/david.jpg',
      },
      {
        'nama': 'Bostang',
        'pesan': 'WOII',
        'bulan': 'Mei',
        'avatar': 'images/krisna.jpg',
      },
      {
        'nama': 'Dwik',
        'pesan': 'Jangan lupa laporan bulanan magang dah.',
        'bulan': 'Juni',
        'avatar': 'images/meilani.jpg',
      },
      {
        'nama': 'Andika',
        'pesan': 'Info Tugas',
        'bulan': 'Juli',
        'avatar': 'images/gilbert.jpg',
      },
      
    ];

    return MaterialApp(
      debugShowCheckedModeBanner: false,
      theme: ThemeData(useMaterial3: true, primarySwatch: Colors.blue),
      home: Scaffold(
        appBar: AppBar(
          title: const Text('Chat Item'),
          backgroundColor: Colors.blueAccent,
          foregroundColor: Colors.white,
        ),
        body: ListView.separated(
          itemCount: chats.length,
          // PERBAIKAN: Menambahkan parameter (context, index) agar tidak error
          separatorBuilder: (context, index) =>
              const Divider(height: 1, indent: 70),
          itemBuilder: (context, index) {
            final chat = chats[index];

            return InkWell(
              onTap: () {
                Navigator.push(
                  context,
                  MaterialPageRoute(
                    builder: (_) =>
                        DetailPage(nama: chat['nama']!, pesan: chat['pesan']!),
                  ),
                );
              },
              child: ChatItem(
                nama: chat['nama']!,
                pesan: chat['pesan']!,
                bulan: chat['bulan']!,
                // KIRIM STRING NYA SAJA
                avatar: chat['avatar']!,
              ),
            );
          },
        ),
      ),
    );
  }
}
